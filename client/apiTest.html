<html>
    <head>

    </head>
    <body>
        <h1>Here is a file!</h1>

        <button onclick="postData()">Post data</button>
        <button onclick="getPosts()">Get data</button>
        
    </body>
    <script>
        function postData(){

            var payload = {
                title: "here is a new post",
                content: "Lots of new content for this new post yay. Go us.",
                tag: "Science",
                fdasdsa: "fadsfsad",
                author: 'Kieran Motherfucking mcdonald'
            }

            var data = new FormData();
            data.append( "json", JSON.stringify( payload ) );

            fetch('/api/save', 
                    { 
                        method: 'POST', 
                        body: JSON.stringify(payload),
                        headers: {
                            'Accept': 'application/json, text/plain, */*',
                            'Content-Type': 'application/json'
                        },
                    }).then(function(data){
                return data.json()
            }).then(function(response){
                console.log(response)
            })
        }

        function getPosts(){
            fetch('/api/posts', {method: 'get'}).then(function(response){
                console.log(response)
                return response.json()
            }).then(function(response){
                console.log(response)
            })
        }


    </script>
</html>